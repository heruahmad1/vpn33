<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kalkulator Penjualan</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 700px;
      margin: auto;
    }
    input[type=number], input[type=text] {
      width: 80px;
    }
    input[type=text] {
      width: 100%;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    td, th {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    tfoot td {
      font-weight: bold;
    }
    .total {
      font-size: 1.2em;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>Kalkulator Penjualan</h2>

  <label for="seller">Nama Pembeli:</label>
  <input type="text" id="seller" placeholder="Contoh: Ahmad" required><br /><br />

  <form id="form">
    <table>
      <thead>
        <tr>
          <th>Produk</th>
          <th>Harga (Rp)</th>
          <th>Stok Awal</th>
          <th>Terjual</th>
          <th>Sisa Stok</th>
        </tr>
      </thead>
      <tbody id="produk-body">
        <!-- Baris produk dimuat oleh JavaScript -->
      </tbody>
      <tfoot>
        <tr>
          <td colspan="4">Total Penjualan</td>
          <td id="total">Rp0</td>
        </tr>
      </tfoot>
    </table>
  </form>

  <script>
    const produk = [
      "JUMBO", "LITE", "BIG", "MINI", "SPJ", "produk_lain_1", "produk_lain_2"
    ];

    const tbody = document.getElementById("produk-body");

    produk.forEach(nama => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${nama}</td>
        <td><input type="number" min="0" value="0" data-harga="${nama}" onchange="hitung()"></td>
        <td><input type="number" min="0" value="0" data-stok="${nama}" onchange="hitung()"></td>
        <td><input type="number" min="0" value="0" data-jumlah="${nama}" onchange="hitung()"></td>
        <td id="sisa-${nama}">0</td>
      `;
      tbody.appendChild(tr);
    });

    function hitung() {
      let total = 0;
      produk.forEach(nama => {
        const harga = parseInt(document.querySelector(`[data-harga='${nama}']`).value) || 0;
        const stok = parseInt(document.querySelector(`[data-stok='${nama}']`).value) || 0;
        const jumlah = parseInt(document.querySelector(`[data-jumlah='${nama}']`).value) || 0;
        const sisa = stok - jumlah;

        document.getElementById(`sisa-${nama}`).innerText = sisa;
        total += harga * jumlah;
      });

      document.getElementById("total").innerText = `Rp${total.toLocaleString()}`;
    }

    hitung();
  </script>
</body>
</html>
